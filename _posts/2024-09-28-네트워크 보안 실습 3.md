---
title: "네트워크 보안 실습 3"
date: 2024-09-28
categories: [정보보안, 네트워크 보안]
tags: [IT, Security, Network]
---

## 스캔

### - TCP Open 스캔

![](assets/img/정보보안/실습/3-2.jpg)

- 포트가 열려있는 경우  
  ![](assets/img/정보보안/실습/3-1.jpg)
  - syn -> syn,ack -> ack 순서의 패킷 확인 가능
- 포트가 닫혀있는 경우
  ![](assets/img/정보보안/실습/3-3.jpg)
  - syn -> rst,ack 순서의 패킷 확인 가능

### - TCP half Open 스캔

![](assets/img/정보보안/실습/3-4.jpg)

- 포트가 열려있는 경우
  ![](assets/img/정보보안/실습/3-5.jpg)
  - syn -> syn,ack -> rst 순서의 패킷 확인 가능
- 포트가 닫혀있는 경우
  ![](assets/img/정보보안/실습/3-6.jpg)
  - syn -> rst,ack 순서의 패킷 확인 가능

### - UDP 스캔

![](assets/img/정보보안/실습/3-7.jpg)
![](assets/img/정보보안/실습/3-8.jpg)

- 열려있는 포트이면 응답없고 닫혀있는 포트는 ICMP 패킷을 보내줌

### - 스텔스 스캔

#### - XMAS 스캔

- FIN, PSH, URG 플래그를 모두 설정한 패킷을 전송  
  ![](assets/img/정보보안/실습/3-9.jpg)  
  ![](assets/img/정보보안/실습/3-10.jpg)
  - 포트가 열려있는 경우 응답없음
  - 포트가 닫혀있는 경우 rst 패킷 전달
  - 플래그 값 확인해보면 FIN, PSH, URG 플래그가 설정되어있는것 확인 가능

## 패킷 조작 및 공격 방법

### - 패킷의 플래그 값 조작

![](assets/img/정보보안/실습/3-11.jpg)
![](assets/img/정보보안/실습/3-12.jpg)

- ACK 플래그 값이 설정된 것 확인 가능
- 뜬금없이 응답 패킷을 보내는 상황이 됨
- 따라서 상대는 RST 패킷을 보냄

> ACK으로만 보내면 상대편의 포트가 열려있는지 닫혀있는지 구분할 수 있는 로직이 없음. 따라서 다른 플래그와 조합해서 써야함.

### - 소스 IP 주소 변조

![](assets/img/정보보안/실습/3-13.jpg)

- RND:<NUMBER> 옵션을 주면 지정한 수만큼 랜덤한 IP주소로 변조해서 전송 (자신의 IP주소도 포함)

### - 소스 MAC 주소 변조

![](assets/img/정보보안/실습/3-14.jpg)

- 랜덤 MAC 주소를 원한다면 MAC 주소 부분에 0을 적으면 됨

### - 원하는 데이터를 넣어서 패킷 전송

![](assets/img/정보보안/실습/3-15.jpg)

> 취약점을 이용해서 데이터로 악성 코드를 보낸다면 실제로 실행이 될 수도 있음
> ![](assets/img/정보보안/실습/3-16.jpg)

---

## Nmap으로 취약점 점검 및 테스트

![](assets/img/정보보안/실습/3-17.jpg)

- 위 폴더에서 취약점 검사 소스코드를 볼 수 있음  
  ![](assets/img/정보보안/실습/3-19.jpg)

  - http-enum에 취약점이 있는것 확인 가능
    ![](assets/img/정보보안/실습/3-18.jpg)

  - 웹사이트의 데이터베이스를 이용해 검사하여 익스플로잇 코드 확인 가능
    ![](assets/img/정보보안/실습/3-20.jpg)

### - vulscan 이용

- 여러 사이트의 취약점 데이터베이스를 이용해서 취약점 확인 가능
  ![](assets/img/정보보안/실습/3-21.jpg)
