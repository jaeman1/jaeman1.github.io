---
title: "네트워크 보안 실습 1"
date: 2024-09-21
categories: [정보보안, 네트워크 보안]
tags: [IT, Security, Network]
---

## 실습환경 구축하기

![](assets/img/정보보안/실습/1-1.jpg)

### - 윈도우 설정

#### - Windows 기능 설정

1. 제어판 -> 프로그램 제거 -> Windows 기능 켜기/끄기
2. 인터넷 정보 서비스 체크
3. ftp 서비스 체크
4. World Wide Web 서비스 전체 체크
5. 웹 관리 도구 >> IIS관리 서비스, 관리 콘솔 체크  
   ![](assets/img/정보보안/실습/1-2.jpg)

#### -IIS 설정 (FTP 서비스 생성)

1. 윈도우 검색 >> IIS 관리자 검색해서 실행
2. 사이트 폴더에 ftp 사이트 추가  
   ![](assets/img/정보보안/실습/1-3.jpg)

#### - mmc 설정 (FTP 서비스에 접속 가능한 계정 생성)

1. 윈도우 검색 >> mmc 실행
2. 스냅인 추가/제거  
   ![](assets/img/정보보안/실습/1-4.jpg)
3. 로컬 사용자 및 그룹 추가  
   ![](assets/img/정보보안/실습/1-5.jpg)
4. 생성된 스냅인 더블클릭 >> 사용자 >> 새 사용자 생성
   ![](assets/img/정보보안/실습/1-6.jpg)
   ![](assets/img/정보보안/실습/1-7.jpg)
   - 암호 설정 아래와 같이 변경  
     ![](assets/img/정보보안/실습/1-8.jpg)
5. 생성된 계정 속성 변경  
    ![](assets/img/정보보안/실습/1-9.jpg)
   - 기존 그룹 삭제  
     ![](assets/img/정보보안/실습/1-10.jpg)
   - 그룹 추가 >> 고급 >> 지금 찾기 >> IIS_IUSRS 추가  
     ![](assets/img/정보보안/실습/1-11.jpg)

#### -IIS

1. ftp 인증 클릭  
   ![](assets/img/정보보안/실습/1-12.jpg)
2. 기본인증 사용으로 변경  
   ![](assets/img/정보보안/실습/1-13.jpg)
3. ftp 권한 부여 규칙 클릭  
   ![](assets/img/정보보안/실습/1-14.jpg)
4. 허용 규칙 추가  
   ![](assets/img/정보보안/실습/1-15.jpg)

#### -IIS 폴더 설정

1. IIS 폴더 속성 >> 보안 탭 >> 편집 >> 추가 >> 고급 >> 지금 찾기 >> IIS_IURSR 추가
2. IIS_IURSR 권한 부여  
   ![](assets/img/정보보안/실습/1-16.jpg)

### - 록키 리눅스 텔넷 서버 구축

- `dnf install telnet-server` : 텔넷 서버 설치
- `systemctl start telnet.socket` : 텔넷 서비스 시작
- `systemctl enable telnet.socket` : 텔넷 서비스 상시 활성화
- `systemctl status telnet.socket` : 서비스 정상 작동 여부 확인
- `sudo systemctl stop firewalld` : 방화벽 비활성화

---

## 원격 접속 해보기

### - 칼리에서 윈도우로 접속 (FTP)

![](assets/img/정보보안/실습/1-17.jpg)

- 접속후 mkdir로 폴더 생성했을때 윈도우에 반영됨  
  ![](assets/img/정보보안/실습/1-18.jpg)

### - 칼리에서 록키 리눅스 접속 (telnet)

![](assets/img/정보보안/실습/1-19.jpg)

---

## 스니핑 공격 해보기

### - 와이어샤크

1.  칼리에서 와이어샤크 실행
2.  칼리에서 록키 리눅스로 텔넷 접속
3.  와이어샤크로 캡쳐한 패킷 분석
    - 조각난 패킷을 조합해서 보기 위해 'tcp stream'을 이용해 분석함
    - 패킷을 재조합하여 보면 아이디, 패스워드, 실행한 명령을 확인할 수 있음

> \* 'tcpdump'로도 시도했으나 패킷 재조합 기능을 제공하지 않아 내용을 볼 수 없었음

![](assets/img/정보보안/실습/1-20.jpg)

### - dniff (칼리 리눅스)

- 로그인 계정 정보만 추려 스니핑 가능
  ![](assets/img/정보보안/실습/1-21.jpg)
  - 'telnet', 'ftp' 모두 계정 정보가 보임
  - 백그라운드에서 실행하면 몰래 정보 탈취 가능
  - 실행 후 텍스트 파일에 정보를 저장하며 모니터링 가능

### - 스니핑 예방법

- **암호화 알고리즘 사용**
  - `ftp` → `sftp` (보안 파일 전송)
  - `http` → `https` (보안 웹 통신)
