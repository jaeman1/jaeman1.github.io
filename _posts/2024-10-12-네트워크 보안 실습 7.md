---
title: "네트워크 보안 실습 7"
date: 2024-10-12
categories: [정보보안, 네트워크 보안]
tags: [IT, Security, Network]
---

## netcat

### - nc로 연결

![](assets/img/정보보안/실습/7-1.jpg)

- 방어적인 입장에서 간단하게 원격 연결 테스트 할때 사용
- 스캔 후 포트가 열려있을때 연결 시도해보고 연결이 된다면 위험하다고 판단 가능

### - nc로 명령어 실행

![](assets/img/정보보안/실습/7-2.jpg)

### - 가벼운 스캔

![](assets/img/정보보안/실습/7-3.jpg)

### - 다중 클라이언트 연결

## ![](assets/img/정보보안/실습/7-4.jpg)

---

## 방화벽 시스템 구축 (pfsense)

![](assets/img/정보보안/실습/7-5.jpg)

### - 방화벽 인터페이스 카드 설정

![](assets/img/정보보안/실습/7-6.jpg)
![](assets/img/정보보안/실습/7-7.jpg)
![](assets/img/정보보안/실습/7-8.jpg)

### - 웹으로 접속해서 인터페이스 카드 추가

![](assets/img/정보보안/실습/7-9.jpg)

#### - LAN 카드 설정

- 게이트웨이 주소 설정  
  ![](assets/img/정보보안/실습/7-10.jpg)

#### - OPT1 카드 설정

- 인터페이스 활성화
- 게이트웨이 설정
  ![](assets/img/정보보안/실습/7-11.jpg)
  ![](assets/img/정보보안/실습/7-12.jpg)

### - 윈도우 네트워크 설정

![](assets/img/정보보안/실습/7-13.jpg)

- 윈도우 네트워크 정적 ip 설정
  ![](assets/img/정보보안/실습/7-14.jpg)

### - 칼리 리눅스 네트워크 설정

- 무작위 모드 설정
  ![](assets/img/정보보안/실습/7-15.jpg)

### - 록키 리눅스 네트워크 설정

- 무작위 모드 설정  
  ![](assets/img/정보보안/실습/7-16.jpg)

---

## 방화벽 룰 만들어보기

### 1. 윈도우에서 록키로 ping이 가도록 룰 생성

- LAN 설정
  ![](assets/img/정보보안/실습/7-17.jpg)
- OPT1 설정
  ![](assets/img/정보보안/실습/7-18.jpg)

### 2. 윈도우에서 칼리로 웹 서비스 접근할 수 있도록 룰 생성

- LAN 설정
  ![](assets/img/정보보안/실습/7-19.jpg)
- OPT1 설정
  ![](assets/img/정보보안/실습/7-20.jpg)

### 3. 웹 서버에는 외부에서 접근을 할 수 없도록 차단한다. 하지만, 웹 서버에서 업데이트 작업이 예정되어 있기 때문에 업데이트를 받기 위하여 인터넷 통신이 필요하다. 업데이트 시간은 10월 한 달동안 매주 일요일 00:00 ~ 02:00이다.

- 스케줄 설정
- 외부 -> 웹서버(칼리) 접근 차단
- 웹서버(칼리) -> 외부 인터넷 특정 시간에 통신 허용 (스케줄)

---

## 방화벽에 Suricata 패키지 설치

- System/Package Manager에서 Suricata 설치

---

## hydra 실습

### - ssh 무차별 대입 공격

![](assets/img/정보보안/실습/7-21.jpg)

### - telnet 사전 대입 공격

1. /usr/share/wordlists의 파일 선택
2. john.lst 파일에 록키의 암호 추가
3. john.lst 파일을 이용해 telnet 대입 공격 수행

---

## macchanger 사용

![](assets/img/정보보안/실습/7-22.jpg)
